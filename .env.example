# APIs (todas obrigatórias): DeepSeek + Xiaomi MiMo + OpenAI + Perplexity.
# Copy to .env and set env_file in docker-compose for gateway/api (ou use o script install_vps.sh no VPS).
ZAPISTA_PROVIDERS__DEEPSEEK__API_KEY=
ZAPISTA_PROVIDERS__XIAOMI__API_KEY=
OPENAI_API_KEY=
ZAPISTA_PROVIDERS__PERPLEXITY__API_KEY=

# Health checks: se definido, /health (bridge :3001 e API :8000) só respondem 200 com header X-Health-Token (recomendado em produção).
# HEALTH_CHECK_TOKEN=teu-token-secreto

# API (FastAPI): se definido, todos os endpoints exceto /health exigem header X-API-Key com este valor. Em produção definir sempre.
# API_SECRET_KEY=teu-api-key-secreto

# CORS: origens permitidas, separadas por vírgula. Em produção usar apenas o domínio do frontend (ex.: https://app.seudominio.com). * = todas (dev).
# CORS_ORIGINS=*

# Timezone do servidor (IANA). Usado por logs, cron e datetime local. Default: Europe/Lisbon. Ex.: America/Sao_Paulo para Brasil.
# TZ=America/Sao_Paulo

# Bridge: 1 = reencaminha mensagens que envias a ti mesmo (mensagens guardadas / falar contigo). Útil para testar com um só número.
# ALLOW_SELF_MESSAGES=1

# Rate limit: mensagens por minuto por utilizador (5–300). Default 15. Aumentar para testes (ex.: 60) evita "Muitas mensagens. Aguarde..."
# RATE_LIMIT_MAX_PER_MINUTE=60

# LLM: máximo de chamadas simultâneas (DeepSeek + MiMo). Evita tempestade quando cron e inbound concorrem. Default 5.
# LLM_MAX_CONCURRENT=5

# LLM: timeout por chamada (segundos) e retries com backoff. Default 60s, 2 retries.
# Aumentar para pedidos pesados (receitas, pesquisas). Fallbacks: DeepSeek falha → MiMo; Perplexity search falha → Perplexity chat.
# LLM_TIMEOUT_SECONDS=60
# LLM_NUM_RETRIES=2

# Contacto atendimento ao cliente: quando o cliente pede falar com suporte, indicamos estes dados.
# ATENDIMENTO_PHONE=+55 71 111111111
# ATENDIMENTO_EMAIL=atendimento@exemplo.com

# BD (produção): criptografia em repouso. Opção 1: SQLCipher — definir DB_PASSPHRASE (e instalar pysqlcipher3 + libsqlcipher). Opção 2: volume criptografado (LUKS/BitLocker) e colocar o ficheiro da BD nesse volume.
# DB_PATH=/var/lib/zapista/organizer.db
# DB_PASSPHRASE=  # passphrase para SQLCipher (deixar vazio = SQLite normal)

# Logs: rotação Docker já no docker-compose (10MB × 3 ficheiros por container).
# ZAPISTA_LOG_FILE=/root/.zapista/logs/app.log  # opcional: ficheiro com rotação Loguru (10MB, 7 dias)

# TTS (voice notes): /audio [ptpt|es|en] <pedido> responde com PTT. Múltiplas vozes (pt_BR, pt_PT, es_ES, en_US).
# TTS_ENABLED=1
# TTS_MAX_AUDIO_SECONDS=15
# TTS_MAX_WORDS=40
# TTS_TMP_DIR=/root/.zapista/tmp/tts
# PIPER_BIN=/root/.zapista/bin/piper
# TTS_MODELS_BASE=/root/.zapista/models/piper
